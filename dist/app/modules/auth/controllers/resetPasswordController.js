!function(){"use strict";define(["assetIt","auth-model","auth-formValidator","auth-service"],function(e){e.register.controller("resetPasswordController",["$scope","$location","resetPasswordModel","authFormValidator","authService",function(e,i,r,a,t){var n=i.path(),o=n.split("/"),s=(o[1],o[2]);e.initializeController=function(){e.request={},t.checkResetLink(s).then(function(t){e.request=t,e.userInfo=r.initializeModel(),e.error=""},function(r,t){e.request=r})};var l=function(r){e.request=r,e.error=""};e.savePassword=function(){r.updateModel(e.userInfo);var o=a.isValidResetPasswordForm();o.isValid?(t.resetPassword(s,l),e.userInfo=r.initializeModel()):(e.error=o,"$apply"!=e.$root.$$phase&&"$digest"!=e.$root.$$phase&&e.$apply())}}])})}();