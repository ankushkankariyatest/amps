!function(){"use strict";define(["assetIt"],function(s){s.register.factory("authValidations",function(){var s={isInvalidEmail:{message:"This is not a valid email address",isValid:!1},isInvalidLanId:{message:"This is not a valid LAN ID",isValid:!1},isInvalidEmailDomain:{message:"Only valid email addresses with domain pge.com are allowed",isValid:!1},isEmpty:{message:"This field is required",isValid:!1},passwordMismatch:{message:"Passwords do not match",isValid:!1},minLength:{message:"Please enter atleast {length} characters",isValid:!1},sameLanIdAndSupervisorId:{message:"LAN ID and Supervisor LAN ID cannot be same",isValid:!1},defaultErrorInfo:{isValid:!0,message:""}},a={};return a.isValidLanID=function(r){var e=this.isNotEmpty(r);if(e.isValid){var a=r,i=/(.*)@(.*)/.exec(r);return i&&i[2]?(a=i[1],"pge.com"!=i[2]||4!=a.length||/[^a-zA-Z0-9]/.test(a)?s.isInvalidLanId:s.defaultErrorInfo):/[^a-zA-Z0-9]/.test(a)||4!=a.length?s.isInvalidLanId:s.defaultErrorInfo}return e},a.isValidEmail=function(a){var i=this.isNotEmpty(a);if(!i.isValid)return i;var r=a.split("@"),e=void 0!==r[1]&&"wizni.com"===r[1].toLowerCase()?/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@(wizni.com|pge.com)$/:/^([_a-z0-9-]{4})@(pge.com)$/;return e.test(a)?s.defaultErrorInfo:s.isInvalidEmailDomain},a.isNotEmpty=function(a){return void 0!==a&&""!==String(a).trim()?s.defaultErrorInfo:s.isEmpty},a.isPasswordMismatch=function(a,i){return void 0!==a&&void 0!==i&&a===i?s.defaultErrorInfo:s.passwordMismatch},a.minLength=function(r,a){var i=s.minLength;return i.message=String(i.message).replace("{length}",a),String(r).length>=a?s.defaultErrorInfo:s.minLength},a.isValidPassword=function(s){var a=this.isNotEmpty(s);return a.isValid?this.minLength(s,5):a},a.isValidSupervisorLanID=function(d,i){var e=this.isNotEmpty(i);if(!e.isValid)return e;if(d===i)return s.sameLanIdAndSupervisorId;var a=i,r=/(.*)@(.*)/.exec(i);return r&&r[2]?(a=r[1],"pge.com"!=r[2]||4!=a.length||/[^a-zA-Z0-9]/.test(a)?s.isInvalidLanId:s.defaultErrorInfo):/[^a-zA-Z0-9]/.test(a)||4!=a.length?s.isInvalidLanId:s.defaultErrorInfo},a}),s.register.factory("authFormValidator",["authValidations","loginModel","registerModel","forgotPasswordModel","resetPasswordModel",function(s,d,r,o,e){var a={isValid:!0,message:""},f={isValid:!0,username:a,password:a},n={isValid:!0,username:a,password:a,cnf_password:a,fullName:a,companyName:a},t={isValid:!0,username:a},l={isValid:!0,password:a,cnf_password:a},u=function(){return{loginError:{username:validationMesssages.defaultErrorInfo,password:validationMesssages.defaultErrorInfo},registerError:{username:validationMesssages.defaultErrorInfo,password:validationMesssages.defaultErrorInfo,cnf_password:validationMesssages.defaultErrorInfo,fullName:validationMesssages.defaultErrorInfo,companyName:validationMesssages.defaultErrorInfo},resetPasswordError:{password:validationMesssages.defaultErrorInfo,cnf_password:validationMesssages.defaultErrorInfo},forgotPasswordError:{username:validationMesssages.defaultErrorInfo},feedbackError:{email:validationMesssages.defaultErrorInfo,mood:validationMesssages.defaultErrorInfo,subject:validationMesssages.defaultErrorInfo,message:validationMesssages.defaultErrorInfo}}},i={};return i.isValidLoginForm=function(){var e=d.getUsername(),o=d.getPassword(),a=angular.extend({},f),i=s.isValidLanID(e);a.username=i,a.isValid=i.isValid?a.isValid:i.isValid;var r=s.isValidPassword(o);return a.password=r,a.isValid=r.isValid?a.isValid:r.isValid,a},i.isValidRegisterForm=function(){var t=r.getUsername(),l=r.getPassword(),u=r.getSupervisorLanId(),f=(r.getRequestEnterprise(),r.getBusinessJustification()),a=angular.extend({},n),i=s.isValidLanID(t);a.username=i,a.isValid=i.isValid?a.isValid:i.isValid;var e=s.isValidPassword(l);a.password=e,a.isValid=e.isValid?a.isValid:e.isValid;var d=s.isValidSupervisorLanID(t,u);a.supervisorLanId=d,a.isValid=d.isValid?a.isValid:d.isValid;var o=s.isNotEmpty(f);return a.businessJustification=o,a.isValid=o.isValid?a.isValid:o.isValid,a},i.isValidForgotPasswordForm=function(){var r=o.getUsername(),a=angular.extend({},t),i=s.isValidEmail(r);return a.username=i,a.isValid=i.isValid?a.isValid:i.isValid,a},i.isValidResetPasswordForm=function(){var d=e.getPassword(),o=e.getCnfPassword(),a=angular.extend({},l),r=s.isValidPassword(d);a.password=r,a.isValid=r.isValid?a.isValid:r.isValid;var i=s.isValidPassword(o);if(a.cnf_password=i,a.isValid=i.isValid?a.isValid:i.isValid,i.isValid){var i=s.isPasswordMismatch(d,o);a.cnf_password=i,a.isValid=i.isValid?a.isValid:i.isValid}return a},{errorInfo:u,isValidLoginForm:i.isValidLoginForm,isValidRegisterForm:i.isValidRegisterForm,isValidResetPasswordForm:i.isValidResetPasswordForm,isValidForgotPasswordForm:i.isValidForgotPasswordForm}}])})}();